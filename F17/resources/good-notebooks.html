
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Writing Good Notebooks · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-asciidoc-admonition-icons/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">

    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../classes/" />
    
    
    <link rel="prev" href="git.html" />
    

<link href="https://fonts.googleapis.com/css?family=Lato|Merriweather" rel="stylesheet">

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../syllabus/">
            
                <a href="../syllabus/">
            
                    
                    Syllabus
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../syllabus/outcomes.html">
            
                <a href="../syllabus/outcomes.html">
            
                    
                    Goals and Outcomes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../syllabus/logistics.html">
            
                <a href="../syllabus/logistics.html">
            
                    
                    Course Logistics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../syllabus/resources.html">
            
                <a href="../syllabus/resources.html">
            
                    
                    Textbook and Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../syllabus/assessment.html">
            
                <a href="../syllabus/assessment.html">
            
                    
                    Assessment Plan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../syllabus/policies.html">
            
                <a href="../syllabus/policies.html">
            
                    
                    Course Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../syllabus/schedule.html">
            
                <a href="../syllabus/schedule.html">
            
                    
                    Schedule
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Software and Resources
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="documentation.html">
            
                <a href="documentation.html">
            
                    
                    Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="software.html">
            
                <a href="software.html">
            
                    
                    Software and Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="onyx.html">
            
                <a href="onyx.html">
            
                    
                    Using Onyx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="git.html">
            
                <a href="git.html">
            
                    
                    Git for Data Science
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.5" data-path="good-notebooks.html">
            
                <a href="good-notebooks.html">
            
                    
                    Writing Good Notebooks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../classes/">
            
                <a href="../classes/">
            
                    
                    Class Information
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../classes/week1.html">
            
                <a href="../classes/week1.html">
            
                    
                    Week 1 (Aug. 21–25)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../classes/week2.html">
            
                <a href="../classes/week2.html">
            
                    
                    Week 2 (Aug. 28–Sep. 1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../classes/week3.html">
            
                <a href="../classes/week3.html">
            
                    
                    Week 3 (Sep. 4–8)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../classes/week4.html">
            
                <a href="../classes/week4.html">
            
                    
                    Week 4 (Sep. 11-15)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../classes/week5.html">
            
                <a href="../classes/week5.html">
            
                    
                    Week 5 (Sep. 18–22)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../classes/week6.html">
            
                <a href="../classes/week6.html">
            
                    
                    Week 6 (Sep. 25–29)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../classes/week7.html">
            
                <a href="../classes/week7.html">
            
                    
                    Week 7 (Oct. 2–6)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../classes/week9.html">
            
                <a href="../classes/week9.html">
            
                    
                    Week 9 (Oct. 16–20)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../classes/week11.html">
            
                <a href="../classes/week11.html">
            
                    
                    Week 11 (Oct. 30–Nov. 3)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../classes/week12.html">
            
                <a href="../classes/week12.html">
            
                    
                    Week 12 (Nov. 6–10)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../assignments/">
            
                <a href="../assignments/">
            
                    
                    Assignments
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../assignments/assignment1.html">
            
                <a href="../assignments/assignment1.html">
            
                    
                    Assignment 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../assignments/assignment2.html">
            
                <a href="../assignments/assignment2.html">
            
                    
                    Assignment 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../assignments/assignment3.html">
            
                <a href="../assignments/assignment3.html">
            
                    
                    Assignment 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../assignments/assignment4.html">
            
                <a href="../assignments/assignment4.html">
            
                    
                    Assignment 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../assignments/assignment5.html">
            
                <a href="../assignments/assignment5.html">
            
                    
                    Assignment 5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../assignments/assignment67.html">
            
                <a href="../assignments/assignment67.html">
            
                    
                    Assignments 6&7
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../notebooks/README.md">
            
                <span>
            
                    
                    Notebooks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" >
            
                <a target="_blank" href="ref://notebooks/DiscreteProbIntro.html">
            
                    
                    Discrete Probability Intro
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" >
            
                <a target="_blank" href="ref://notebooks/ContinuousProbIntro.html">
            
                    
                    Continuous Probability Intro
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../failure.html">
            
                <a href="../failure.html">
            
                    
                    On Failure
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Writing Good Notebooks</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="writing-good-notebooks">Writing Good Notebooks</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Writing good Jupyter notebooks is something of an art; this page is to give you some ideas and general guidelines to make your notebooks more readable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_write_to_be_read">Write to be Read</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
Let us change our traditional attitude to the construction of programs: Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to human beings what we want a computer to do.
</blockquote>
<div class="attribution">
&#x2014; Donald Knuth
</div>
</div>
<div class="paragraph">
<p>A good Jupyter notebook is, first and foremost, a document to be read by humans.  It contains code and outputs, but those are for the purpose of providing information to the reader.  Everything in a good notebook must serve the purpose of communicating, or be a subsidiary point to communicating.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="fa icon-important" title="Important">&#xF06A;</div>
</td>
<td class="content">
<strong>Rule 1:</strong> Can another person read this and understand (1) what I am trying to do, (2) what I conclude, and (3) why my conclusions are supported by the data?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are three key components of this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clear, understandable code that is free of needless clutter.  The reader needs to be able to check that you are actually computing what you claim to be computing.</p>
</li>
<li>
<p>Clear writing that explains the question, the method, and illuminates the results.</p>
</li>
<li>
<p>An understanding of your audience.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>There are some things about Jupyter that make overall readability a bit challenging; in particular, there isn&#x2019;t a good way to define functions and routines elsewhere (unless you just write an R script), so the top part of a notebook is often full of preliminaries that set up for the real substance of the notebook.</p>
</div>
<div class="paragraph">
<p>On the last point &#x2014; audience &#x2014; for this class, you can assume that your audience understands the material we have covered in class and in the readings.  So you do not need to explain, for example, how a linear regression works.  You do need to explain why you chose the features and transformations that you did.  You need to explain what the results mean in terms of your problem.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pay_attention_to_flow">Pay Attention to Flow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A good notebook has a clear, logical flow.  Part of this is determined by the natural flow of data processing:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Load libraries</p>
</li>
<li>
<p>Load data</p>
</li>
<li>
<p>Pre-process data so it is useful for analysis</p>
</li>
<li>
<p>Present basic data descriptions (distributions, summary statistics, data sizes)</p>
</li>
<li>
<p>Carry out and interpret the main analysis</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Within individual parts of a document, however, flow also matters.  There are different ways to approach it; what I like to do in most notebooks is the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Explain what I am going to do and why</p>
</li>
<li>
<p>Do it (code)</p>
</li>
<li>
<p>Interpret results</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>I don&#x2019;t like to put the results before the code; it breaks the top-down flow of the narrative.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="fa icon-important" title="Important">&#xF06A;</div>
</td>
<td class="content">
<strong>Rule 2:</strong> Does my document read from the top down, with each piece building only on things that came before?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is also good to make individual questions or arguments compact, so that the reader doesn&#x2019;t lose the flow while reading.  Rather than laying out several questions, then computing, then explaining answers, answer the questions one at a time. Otherwise, in the middle of a lot of code, the reader can forget what the point was.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="fa icon-important" title="Important">&#xF06A;</div>
</td>
<td class="content">
<strong>Rule 3:</strong> Are my questions and arguments compact?
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pay_attention_to_code_flow">Pay Attention to Code Flow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This rule is easier to check: at all times, you should be able to re-run your notebook from top to bottom and get the correct results.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="fa icon-important" title="Important">&#xF06A;</div>
</td>
<td class="content">
<strong>Rule 4:</strong> Does my document run correctly from top-to-bottom?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Code blocks cannot depend on variables defined later in the document.</p>
</div>
<div class="paragraph">
<p>The correctness cannot depend on which of three different code blocks you ran &#x2014; store the results of code variants in different variables.</p>
</div>
<div class="paragraph">
<p>This is important for <em>reproducibility</em>: enabling someone else to rerun and reuse your results.</p>
</div>
<div class="paragraph">
<p>It is also good to put code with the question that it is answering.  This sometimes competes with code reuse, but keeping code with its questions makes it easier to verify that the answer to <em>that question</em> is correct.</p>
</div>
<div class="paragraph">
<p>It is also crucial to route data through variables as much as possible; avoid copying and pasting data.  This improves reproducibility, because you don&#x2019;t need to take manual steps to make the notebook correct.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="fa icon-important" title="Important">&#xF06A;</div>
</td>
<td class="content">
<strong>Rule 5:</strong> Can my document re-run and produce correct results without human intervention?
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_avoid_extraneous_code_and_output">Avoid Extraneous Code and Output</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="fa icon-important" title="Important">&#xF06A;</div>
</td>
<td class="content">
<strong>Rule 6:</strong> Does all code and output advance the narrative?
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Unnecessary code and output makes it more difficult to see the central point of the notebook.  It is common to put in additional code and outputs for debugging, but before submitting or publishing a notebook you should either remove such outputs or weave them into the narrative.  The latter is often possible; if you argue for why the output helps you understand the correctness of the preceeding or following code, it can strengthen the document.</p>
</div>
<div class="paragraph">
<p>This doesn&#x2019;t mean omit <em>all</em> output that isn&#x2019;t directly used to answer a question. When I compute a new object, I often dump a quick head or summary, just so that the reader can see the output of the code we just ran and better understand it.</p>
</div>
<div class="paragraph">
<p>It&#x2019;s easier to read if you stick to one output per code block.</p>
</div>
<div class="paragraph">
<p>Also, break up blocks of code with explanatory text.  <em>Why</em> are you doing what you are doing?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples">Examples</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/mdekstrand/rat-tumors/blob/master/RatTumors.ipynb" target="_blank">Rat Tumors</a> &#x2014; this notebook works through an example from Chapter 5 of <em>Bayesian Data Analysis</em>, 3rd Edition, by Gelman et al. It is a solid but not excellent notebook.</p>
</li>
<li>
<p><a href="../notebooks/DemographicsOfCool.html">MovieLens Demographic Evaluation</a> &#x2014; this notebook is a work-in-progress of enhancing one of my papers, <a href="http://md.ekstrandom.net/research/pubs/demographics-of-cool" target="_blank">The Demographics of Cool</a>.</p>
</li>
</ul>
</div>
</div>
</div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="git.html" class="navigation navigation-prev " aria-label="Previous page: Git for Data Science">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../classes/" class="navigation navigation-next " aria-label="Next page: Class Information">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Writing Good Notebooks","level":"1.3.5","depth":2,"next":{"title":"Class Information","level":"1.4","depth":1,"path":"classes/README.adoc","ref":"classes/README.adoc","articles":[{"title":"Week 1 (Aug. 21–25)","level":"1.4.1","depth":2,"path":"classes/week1.adoc","ref":"classes/week1.adoc","articles":[]},{"title":"Week 2 (Aug. 28–Sep. 1)","level":"1.4.2","depth":2,"path":"classes/week2.adoc","ref":"classes/week2.adoc","articles":[]},{"title":"Week 3 (Sep. 4–8)","level":"1.4.3","depth":2,"path":"classes/week3.adoc","ref":"classes/week3.adoc","articles":[]},{"title":"Week 4 (Sep. 11-15)","level":"1.4.4","depth":2,"path":"classes/week4.adoc","ref":"classes/week4.adoc","articles":[]},{"title":"Week 5 (Sep. 18–22)","level":"1.4.5","depth":2,"path":"classes/week5.adoc","ref":"classes/week5.adoc","articles":[]},{"title":"Week 6 (Sep. 25–29)","level":"1.4.6","depth":2,"path":"classes/week6.adoc","ref":"classes/week6.adoc","articles":[]},{"title":"Week 7 (Oct. 2–6)","level":"1.4.7","depth":2,"path":"classes/week7.adoc","ref":"classes/week7.adoc","articles":[]},{"title":"Week 9 (Oct. 16–20)","level":"1.4.8","depth":2,"path":"classes/week9.adoc","ref":"classes/week9.adoc","articles":[]},{"title":"Week 11 (Oct. 30–Nov. 3)","level":"1.4.9","depth":2,"path":"classes/week11.adoc","ref":"classes/week11.adoc","articles":[]},{"title":"Week 12 (Nov. 6–10)","level":"1.4.10","depth":2,"path":"classes/week12.adoc","ref":"classes/week12.adoc","articles":[]}]},"previous":{"title":"Git for Data Science","level":"1.3.4","depth":2,"path":"resources/git.adoc","ref":"resources/git.adoc","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["asciidoc-admonition-icons","mathjax","otherlink"],"pluginsConfig":{"asciidoc-admonition-icons":{},"search":{},"otherlink":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"mathjax":{"forceSVG":false,"version":"2.6-latest"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"resources/good-notebooks.adoc","mtime":"2017-09-30T01:20:31.704Z","type":"asciidoc"},"gitbook":{"version":"3.2.3","time":"2018-01-01T19:13:06.479Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://cdn.mathjax.org/mathjax/2.6-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-otherlink/js/otherlink.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

