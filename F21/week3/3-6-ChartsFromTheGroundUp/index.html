
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drawing Charts &#8212; CS 533 Fall 2021</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/fonts.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabinsert.js"></script>
    <script src="../../_static/urlclean.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "mdekstrand/cs533-web");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"E": "\\mathrm{E}", "Field": "\\mathcal{F}", "P": "\\mathrm{P}", "Cov": "\\mathrm{Cov}", "Cor": "\\mathrm{Cor}", "Var": "\\mathrm{Var}", "log": "\\operatorname{log}", "Odds": "\\operatorname{Odds}", "OR": "\\operatorname{OR}", "IND": "\\mathbb{I}", "Reals": "\\mathbb{R}"}}, "HTML-CSS": {"fonts": ["TeX"]}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../../_static/logo.png"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="copyright" title="Copyright" href="../../copyright/" />
    <link rel="next" title="Week 4 — Inference (9/13–17)" href="../../week4/" />
    <link rel="prev" title="Week 3 — Presentation (9/6–10)" href="../" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../">
      
      
      
      <h1 class="site-logo" id="site-title">CS 533 Fall 2021</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search/" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../">
   CS 533 Homepage
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Course Info
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../syllabus/">
   Syllabus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../schedule/">
   Schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../glossary/">
   Glossary
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Content
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../week0/">
   Week 0 — Pre-Class Welcome
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../week1/">
   Week 1 — Questions (8/23–27)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week1/DemoNotebook/">
     Demo Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week1/1-7-types-operations/">
     Data Types and Operations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../week2/">
   Week 2 — Description (8/30–9/3)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week2/2-2-PandasBasics/">
     Introducing Pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week2/2-4-AggregatesAndGroups/">
     Aggregates and Groups
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../week2/2-6-DescribingDistributions/">
     Describing Distributions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../">
   Week 3 — Presentation (9/6–10)
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Drawing Charts
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week4/">
   Week 4 — Inference (9/13–17)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week5/">
   Week 5 — Filling In (9/20–24)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week6/">
   Week 6 — Two Variables (Sep. 27–Oct. 1)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week7/">
   Week 7 — Getting Data (Oct. 4–8)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week8/">
   Week 8 — Regression (Oct. 11–15)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week9/">
   Week 9 — Models &amp; Prediction (Oct. 18–22)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week10/">
   Week 10 — Classification (10/25–29)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week11/">
   Week 11 — More Modeling (11/1–5)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week12/">
   Week 12 — Text (11/8–12)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week13/">
   Week 13 — Unsupervised (11/15–19)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week14/">
   Week 14 — Workflow (11/29–12/3)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../week15/">
   Week 15 — What Next? (12/6–10)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/">
   Rubric
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../assignments/A0/">
   Assignment 0
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../assignments/A0/A0-Notebook/">
     CS 533 Assignment 0
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/A1/">
   Assignment 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/A2/">
   Assignment 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/A3/">
   Assignment 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/A4/">
   Assignment 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/A5/">
   Assignment 5
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/A6/">
   Assignment 6
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/A7/">
   Assignment 7
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/software/">
   Software and Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/documentation/">
   Documentation &amp; Reading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/data/">
   Data Sets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/notebook-checklist/">
   Notebook Checklist &amp; Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/probability/">
   Notes on Probability
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/problems/">
   Common Problems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/onyx/">
   Remotely Using Onyx
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/git-resources/">
   Git Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../resources/environments/">
   Software Environments
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../resources/tutorials/">
   Tutorials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/AdvancedPipeline/">
     Advanced Pipeline Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/BooleanSeries/">
     Tricks with Boolean Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/BuildingData/">
     Building Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/ChartFinishingTouches/">
     Finishing Touches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Charting/">
     Drawing Charts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/ClusteringExample/">
     Clustering Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Correlation/">
     Correlation and Basic Linear Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/CriticScores/">
     Charting Movie Scores
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Distributions/">
     Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/EmpiricalProbabilities/">
     Empirical Probabilities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/FetchCHIPapers/">
     Bibliography Fetch
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/FunWithNumbers/">
     Fun with Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Functions/">
     Writing Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Indexing/">
     Indexing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/LogitRegressionDemo/">
     Logistic Regression Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MLTimeSeries/">
     MovieLens Time Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MinimizeRegression/">
     Rebuilding Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MissingData/">
     Missing Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/MovieDecomp/">
     Movie Matrix Decomposition
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/OneSample/">
     One Sample
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/OverfittingSimulation/">
     Overfitting Simulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/PCADemo/">
     PCA Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/PenguinSamples/">
     Sampling and Testing the Penguins
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Regressions/">
     Regressions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Reshaping/">
     Reshaping Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SamplingDists/">
     Sampling Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitLogistic/">
     SciKit Logistic Regression Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitPipeline/">
     SciKit Pipeline and Transform Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitRegression/">
     SciKit-Learn Linear Regression Demo
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SciKitTransform/">
     SciKit Transformations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Selection/">
     Selecting Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/Sessions/">
     Sessionization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/SpamFilter/">
     Spam Detector Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/TuningExample/">
     Tuning Example
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../resources/tutorials/UsingTheCensus/">
     Using Census Data
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Site Details
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../copyright/">
   Copyright and License
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/week3/3-6-ChartsFromTheGroundUp.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/mdekstrand/cs533-web"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/mdekstrand/cs533-web/issues/new?title=Issue%20on%20page%20%2Fweek3/3-6-ChartsFromTheGroundUp.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/mdekstrand/cs533-web/edit/main/week3/3-6-ChartsFromTheGroundUp.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setup">
   Setup
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#movies">
     Movies
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#movie-info">
     Movie Info
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ratings">
     Ratings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#titanic-data">
     Titanic data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#initial-example">
   Initial Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pseudo-3d">
   Pseudo-3D
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#contour-plot">
     Contour Plot
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#heat-map">
     Heat Map
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#secondary-aesthetics">
   Secondary Aesthetics
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#breaking-down-by-more-things">
     Breaking Down by More Things
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="drawing-charts">
<h1>Drawing Charts<a class="headerlink" href="#drawing-charts" title="Permalink to this headline">¶</a></h1>
<p>This notebook presents various options for drawing charts of data, to complement the Week 3 chart types video.</p>
<p>This tutorial uses concepts from both the <span class="xref myst">Selection</span> and <span class="xref myst">Reshaping</span> notebooks.</p>
<p>This notebook uses the “MovieLens + IMDB/RottenTomatoes” data from the <a class="reference external" href="https://grouplens.org/datasets/hetrec-2011/">HETREC data</a>.  It also uses data sets built in to Seaborn.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>First we will import our modules:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<p>Then import the HETREC MovieLens data.  A few notes:</p>
<ul class="simple">
<li><p>Tab-separated data</p></li>
<li><p>Not UTF-8 - latin-1 encoding seems to work</p></li>
<li><p>Missing data encoded as <code class="docutils literal notranslate"><span class="pre">\N</span></code> (there’s a good chance that what we have is a PostgreSQL data dump!)</p></li>
</ul>
<div class="section" id="movies">
<h3>Movies<a class="headerlink" href="#movies" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movies</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hetrec2011-ml/movies.dat&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">,</span> <span class="n">na_values</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">N&#39;</span><span class="p">])</span>
<span class="n">movies</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>title</th>
      <th>imdbID</th>
      <th>spanishTitle</th>
      <th>imdbPictureURL</th>
      <th>year</th>
      <th>rtID</th>
      <th>rtAllCriticsRating</th>
      <th>rtAllCriticsNumReviews</th>
      <th>rtAllCriticsNumFresh</th>
      <th>...</th>
      <th>rtAllCriticsScore</th>
      <th>rtTopCriticsRating</th>
      <th>rtTopCriticsNumReviews</th>
      <th>rtTopCriticsNumFresh</th>
      <th>rtTopCriticsNumRotten</th>
      <th>rtTopCriticsScore</th>
      <th>rtAudienceRating</th>
      <th>rtAudienceNumRatings</th>
      <th>rtAudienceScore</th>
      <th>rtPictureURL</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Toy story</td>
      <td>114709</td>
      <td>Toy story (juguetes)</td>
      <td>http://ia.media-imdb.com/images/M/MV5BMTMwNDU0...</td>
      <td>1995</td>
      <td>toy_story</td>
      <td>9.0</td>
      <td>73.0</td>
      <td>73.0</td>
      <td>...</td>
      <td>100.0</td>
      <td>8.5</td>
      <td>17.0</td>
      <td>17.0</td>
      <td>0.0</td>
      <td>100.0</td>
      <td>3.7</td>
      <td>102338.0</td>
      <td>81.0</td>
      <td>http://content7.flixster.com/movie/10/93/63/10...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Jumanji</td>
      <td>113497</td>
      <td>Jumanji</td>
      <td>http://ia.media-imdb.com/images/M/MV5BMzM5NjE1...</td>
      <td>1995</td>
      <td>1068044-jumanji</td>
      <td>5.6</td>
      <td>28.0</td>
      <td>13.0</td>
      <td>...</td>
      <td>46.0</td>
      <td>5.8</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>3.0</td>
      <td>40.0</td>
      <td>3.2</td>
      <td>44587.0</td>
      <td>61.0</td>
      <td>http://content8.flixster.com/movie/56/79/73/56...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Grumpy Old Men</td>
      <td>107050</td>
      <td>Dos viejos gruñones</td>
      <td>http://ia.media-imdb.com/images/M/MV5BMTI5MTgy...</td>
      <td>1993</td>
      <td>grumpy_old_men</td>
      <td>5.9</td>
      <td>36.0</td>
      <td>24.0</td>
      <td>...</td>
      <td>66.0</td>
      <td>7.0</td>
      <td>6.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>83.0</td>
      <td>3.2</td>
      <td>10489.0</td>
      <td>66.0</td>
      <td>http://content6.flixster.com/movie/25/60/25602...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>Waiting to Exhale</td>
      <td>114885</td>
      <td>Esperando un respiro</td>
      <td>http://ia.media-imdb.com/images/M/MV5BMTczMTMy...</td>
      <td>1995</td>
      <td>waiting_to_exhale</td>
      <td>5.6</td>
      <td>25.0</td>
      <td>14.0</td>
      <td>...</td>
      <td>56.0</td>
      <td>5.5</td>
      <td>11.0</td>
      <td>5.0</td>
      <td>6.0</td>
      <td>45.0</td>
      <td>3.3</td>
      <td>5666.0</td>
      <td>79.0</td>
      <td>http://content9.flixster.com/movie/10/94/17/10...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Father of the Bride Part II</td>
      <td>113041</td>
      <td>Vuelve el padre de la novia (Ahora también abu...</td>
      <td>http://ia.media-imdb.com/images/M/MV5BMTg1NDc2...</td>
      <td>1995</td>
      <td>father_of_the_bride_part_ii</td>
      <td>5.3</td>
      <td>19.0</td>
      <td>9.0</td>
      <td>...</td>
      <td>47.0</td>
      <td>5.4</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>4.0</td>
      <td>20.0</td>
      <td>3.0</td>
      <td>13761.0</td>
      <td>64.0</td>
      <td>http://content8.flixster.com/movie/25/54/25542...</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 21 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movies</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 10197 entries, 0 to 10196
Data columns (total 21 columns):
 #   Column                  Non-Null Count  Dtype  
---  ------                  --------------  -----  
 0   id                      10197 non-null  int64  
 1   title                   10197 non-null  object 
 2   imdbID                  10197 non-null  int64  
 3   spanishTitle            10197 non-null  object 
 4   imdbPictureURL          10016 non-null  object 
 5   year                    10197 non-null  int64  
 6   rtID                    9886 non-null   object 
 7   rtAllCriticsRating      9967 non-null   float64
 8   rtAllCriticsNumReviews  9967 non-null   float64
 9   rtAllCriticsNumFresh    9967 non-null   float64
 10  rtAllCriticsNumRotten   9967 non-null   float64
 11  rtAllCriticsScore       9967 non-null   float64
 12  rtTopCriticsRating      9967 non-null   float64
 13  rtTopCriticsNumReviews  9967 non-null   float64
 14  rtTopCriticsNumFresh    9967 non-null   float64
 15  rtTopCriticsNumRotten   9967 non-null   float64
 16  rtTopCriticsScore       9967 non-null   float64
 17  rtAudienceRating        9967 non-null   float64
 18  rtAudienceNumRatings    9967 non-null   float64
 19  rtAudienceScore         9967 non-null   float64
 20  rtPictureURL            9967 non-null   object 
dtypes: float64(13), int64(3), object(5)
memory usage: 1.6+ MB
</pre></div>
</div>
</div>
</div>
<p>It’s useful to index movies by ID, so let’s just do that now.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movies</span> <span class="o">=</span> <span class="n">movies</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And extract scores:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movie_scores</span> <span class="o">=</span> <span class="n">movies</span><span class="p">[[</span><span class="s1">&#39;rtAllCriticsRating&#39;</span><span class="p">,</span> <span class="s1">&#39;rtTopCriticsRating&#39;</span><span class="p">,</span> <span class="s1">&#39;rtAudienceRating&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;rtAllCriticsRating&#39;</span><span class="p">:</span> <span class="s1">&#39;All Critics&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rtTopCriticsRating&#39;</span><span class="p">:</span> <span class="s1">&#39;Top Critics&#39;</span><span class="p">,</span>
    <span class="s1">&#39;rtAudienceRating&#39;</span><span class="p">:</span> <span class="s1">&#39;Audience&#39;</span>
<span class="p">})</span>
<span class="n">movie_scores</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>All Critics</th>
      <th>Top Critics</th>
      <th>Audience</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>9.0</td>
      <td>8.5</td>
      <td>3.7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5.6</td>
      <td>5.8</td>
      <td>3.2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>5.9</td>
      <td>7.0</td>
      <td>3.2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5.6</td>
      <td>5.5</td>
      <td>3.3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5.3</td>
      <td>5.4</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>65088</th>
      <td>4.4</td>
      <td>4.7</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>65091</th>
      <td>7.0</td>
      <td>0.0</td>
      <td>3.7</td>
    </tr>
    <tr>
      <th>65126</th>
      <td>5.6</td>
      <td>4.9</td>
      <td>3.3</td>
    </tr>
    <tr>
      <th>65130</th>
      <td>6.7</td>
      <td>6.9</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>65133</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>10197 rows × 3 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="movie-info">
<h3>Movie Info<a class="headerlink" href="#movie-info" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movie_genres</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hetrec2011-ml/movie_genres.dat&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span>
<span class="n">movie_genres</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>movieID</th>
      <th>genre</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Adventure</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>Animation</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>Children</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>Comedy</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>Fantasy</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movie_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hetrec2011-ml/movie_tags.dat&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span>
<span class="n">movie_tags</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>movieID</th>
      <th>tagID</th>
      <th>tagWeight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>7</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>13</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>25</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>55</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>60</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hetrec2011-ml/tags.dat&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span>
<span class="n">tags</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>earth</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>police</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>boxing</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>painter</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>whale</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="ratings">
<h3>Ratings<a class="headerlink" href="#ratings" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ratings</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;hetrec2011-ml/user_ratedmovies-timestamps.dat&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;latin1&#39;</span><span class="p">)</span>
<span class="n">ratings</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userID</th>
      <th>movieID</th>
      <th>rating</th>
      <th>timestamp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>75</td>
      <td>3</td>
      <td>1.0</td>
      <td>1162160236000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>75</td>
      <td>32</td>
      <td>4.5</td>
      <td>1162160624000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>75</td>
      <td>110</td>
      <td>4.0</td>
      <td>1162161008000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>75</td>
      <td>160</td>
      <td>2.0</td>
      <td>1162160212000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>75</td>
      <td>163</td>
      <td>4.0</td>
      <td>1162160970000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We’re going to compute movie statistics too:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movie_stats</span> <span class="o">=</span> <span class="n">ratings</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;movieID&#39;</span><span class="p">)[</span><span class="s1">&#39;rating&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="s1">&#39;MeanRating&#39;</span><span class="p">,</span>
    <span class="s1">&#39;count&#39;</span><span class="p">:</span> <span class="s1">&#39;RatingCount&#39;</span>
<span class="p">})</span>
<span class="n">movie_stats</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RatingCount</th>
      <th>MeanRating</th>
    </tr>
    <tr>
      <th>movieID</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1263</td>
      <td>3.735154</td>
    </tr>
    <tr>
      <th>2</th>
      <td>765</td>
      <td>2.976471</td>
    </tr>
    <tr>
      <th>3</th>
      <td>252</td>
      <td>2.873016</td>
    </tr>
    <tr>
      <th>4</th>
      <td>45</td>
      <td>2.577778</td>
    </tr>
    <tr>
      <th>5</th>
      <td>225</td>
      <td>2.753333</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="titanic-data">
<h3>Titanic data<a class="headerlink" href="#titanic-data" title="Permalink to this headline">¶</a></h3>
<p>We’ll also use the Titanic data set from Seaborn:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">titanic</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;titanic&#39;</span><span class="p">)</span>
<span class="n">titanic</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>survived</th>
      <th>pclass</th>
      <th>sex</th>
      <th>age</th>
      <th>sibsp</th>
      <th>parch</th>
      <th>fare</th>
      <th>embarked</th>
      <th>class</th>
      <th>who</th>
      <th>adult_male</th>
      <th>deck</th>
      <th>embark_town</th>
      <th>alive</th>
      <th>alone</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>22.0</td>
      <td>1</td>
      <td>0</td>
      <td>7.2500</td>
      <td>S</td>
      <td>Third</td>
      <td>man</td>
      <td>True</td>
      <td>NaN</td>
      <td>Southampton</td>
      <td>no</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>38.0</td>
      <td>1</td>
      <td>0</td>
      <td>71.2833</td>
      <td>C</td>
      <td>First</td>
      <td>woman</td>
      <td>False</td>
      <td>C</td>
      <td>Cherbourg</td>
      <td>yes</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>3</td>
      <td>female</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>7.9250</td>
      <td>S</td>
      <td>Third</td>
      <td>woman</td>
      <td>False</td>
      <td>NaN</td>
      <td>Southampton</td>
      <td>yes</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>35.0</td>
      <td>1</td>
      <td>0</td>
      <td>53.1000</td>
      <td>S</td>
      <td>First</td>
      <td>woman</td>
      <td>False</td>
      <td>C</td>
      <td>Southampton</td>
      <td>yes</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>35.0</td>
      <td>0</td>
      <td>0</td>
      <td>8.0500</td>
      <td>S</td>
      <td>Third</td>
      <td>man</td>
      <td>True</td>
      <td>NaN</td>
      <td>Southampton</td>
      <td>no</td>
      <td>True</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>886</th>
      <td>0</td>
      <td>2</td>
      <td>male</td>
      <td>27.0</td>
      <td>0</td>
      <td>0</td>
      <td>13.0000</td>
      <td>S</td>
      <td>Second</td>
      <td>man</td>
      <td>True</td>
      <td>NaN</td>
      <td>Southampton</td>
      <td>no</td>
      <td>True</td>
    </tr>
    <tr>
      <th>887</th>
      <td>1</td>
      <td>1</td>
      <td>female</td>
      <td>19.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.0000</td>
      <td>S</td>
      <td>First</td>
      <td>woman</td>
      <td>False</td>
      <td>B</td>
      <td>Southampton</td>
      <td>yes</td>
      <td>True</td>
    </tr>
    <tr>
      <th>888</th>
      <td>0</td>
      <td>3</td>
      <td>female</td>
      <td>NaN</td>
      <td>1</td>
      <td>2</td>
      <td>23.4500</td>
      <td>S</td>
      <td>Third</td>
      <td>woman</td>
      <td>False</td>
      <td>NaN</td>
      <td>Southampton</td>
      <td>no</td>
      <td>False</td>
    </tr>
    <tr>
      <th>889</th>
      <td>1</td>
      <td>1</td>
      <td>male</td>
      <td>26.0</td>
      <td>0</td>
      <td>0</td>
      <td>30.0000</td>
      <td>C</td>
      <td>First</td>
      <td>man</td>
      <td>True</td>
      <td>C</td>
      <td>Cherbourg</td>
      <td>yes</td>
      <td>True</td>
    </tr>
    <tr>
      <th>890</th>
      <td>0</td>
      <td>3</td>
      <td>male</td>
      <td>32.0</td>
      <td>0</td>
      <td>0</td>
      <td>7.7500</td>
      <td>Q</td>
      <td>Third</td>
      <td>man</td>
      <td>True</td>
      <td>NaN</td>
      <td>Queenstown</td>
      <td>no</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
<p>891 rows × 15 columns</p>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="initial-example">
<h2>Initial Example<a class="headerlink" href="#initial-example" title="Permalink to this headline">¶</a></h2>
<p>This is the chart for the initial example - same as from the Charting notebook:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;survived&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">titanic</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;firebrick&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x228d53fb0a0&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_22_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_22_1.png" />
</div>
</div>
</div>
<div class="section" id="pseudo-3d">
<h2>Pseudo-3D<a class="headerlink" href="#pseudo-3d" title="Permalink to this headline">¶</a></h2>
<p>Psuedo-3D charts plot two explanatory variables on the <em>x</em> and <em>y</em> axes, use another means to indicate the response variable.</p>
<p>For this, we are going to use the RottenTomatoes all-critics and audience scores, and we want to see the <em>joint distribution</em>: how frequently do different combinations of critic and audience scores appear?</p>
<p>We’ll start with the scatter plot, just to show its clutter:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="s1">&#39;All Critics&#39;</span><span class="p">,</span> <span class="s1">&#39;Audience&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">movie_scores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x228d5a5d550&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_24_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_24_1.png" />
</div>
</div>
<p>Zeros look odd here - since there are no missing values, and there’s a huge gap between zero and the first actual score, it looks more likely that zeros are missing data.  Let’s treat them as such:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">movie_scores</span><span class="p">[</span><span class="n">movie_scores</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
<span class="n">movie_scores</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>All Critics</th>
      <th>Top Critics</th>
      <th>Audience</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>8441.000000</td>
      <td>4662.000000</td>
      <td>7345.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>6.068404</td>
      <td>5.930330</td>
      <td>3.389258</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.526898</td>
      <td>1.534093</td>
      <td>0.454034</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.200000</td>
      <td>1.600000</td>
      <td>1.500000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>5.000000</td>
      <td>4.800000</td>
      <td>3.100000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>6.200000</td>
      <td>6.100000</td>
      <td>3.400000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>7.200000</td>
      <td>7.100000</td>
      <td>3.700000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>9.600000</td>
      <td>10.000000</td>
      <td>5.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now we have missing values!  The assignment did a couple of things:</p>
<ol class="simple">
<li><p>Create a data frame with all logical columns, that is <code class="docutils literal notranslate"><span class="pre">True</span></code> everywhere a score is 0 (vectorization works in more than one dimension!)</p></li>
<li><p>Use it as a mask, to set all values where it’s <code class="docutils literal notranslate"><span class="pre">True</span></code> to Not a Number (Pandas’ missing-data signal)</p></li>
</ol>
<p>Then we look at the description, and we see counts that indicate a lot of missing data.</p>
<p>We’re going to focus on all critics and audience, so let’s drop top critics, and drop all rows without values for both all critics and audience, since they will be unplottable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms_trimmed</span> <span class="o">=</span> <span class="n">movie_scores</span><span class="p">[[</span><span class="s1">&#39;All Critics&#39;</span><span class="p">,</span> <span class="s1">&#39;Audience&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;All Critics&#39;</span><span class="p">:</span> <span class="s1">&#39;Critics&#39;</span>
<span class="p">})</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="s1">&#39;Critics&#39;</span><span class="p">,</span> <span class="s1">&#39;Audience&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">ms_trimmed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x228d5b2a6d0&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_30_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_30_1.png" />
</div>
</div>
<p>This has less funny business going on, but also is super cluttered - we see a mass, but how does the relative distribution of dots in different parts of the mass <em>actually</em> differ? It’s just a blob.</p>
<div class="section" id="contour-plot">
<h3>Contour Plot<a class="headerlink" href="#contour-plot" title="Permalink to this headline">¶</a></h3>
<p>A contour plot shows how frequent different points in a 2D space are, using contour lines (like topographic maps).</p>
<p>Seaborn does this with the two-parameter <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code>.  Unlike many other methods, <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code> doesn’t know how to extract columns from data frames.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span><span class="n">ms_trimmed</span><span class="p">[</span><span class="s1">&#39;Critics&#39;</span><span class="p">],</span> <span class="n">ms_trimmed</span><span class="p">[</span><span class="s1">&#39;Audience&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x228d5b6fa30&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_33_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_33_1.png" />
</div>
</div>
<p>The peak is at about <span class="math notranslate nohighlight">\((7,3.5)\)</span>.</p>
</div>
<div class="section" id="heat-map">
<h3>Heat Map<a class="headerlink" href="#heat-map" title="Permalink to this headline">¶</a></h3>
<p>Now let’s do a heat map.  Seaborn heat maps require us to pre-compute the different values, and can display arbitrary statistics.  The heat map actually wants a 2D data structure. So we’re going to:</p>
<ul class="simple">
<li><p>Bin values - critics to whole stars, audience to half.</p>
<ul>
<li><p>Critics: round</p></li>
<li><p>Audience: multiply by 2, round, divide by 2</p></li>
</ul>
</li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code> to count values in each combination of rounded audience ratings.  The <code class="docutils literal notranslate"><span class="pre">pivot_table</span></code> method requires a value column to aggregate, so we’ll make a column filled with 1s.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ms_bins</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Critics&#39;</span><span class="p">:</span> <span class="n">ms_trimmed</span><span class="p">[</span><span class="s1">&#39;Critics&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(),</span>
    <span class="s1">&#39;Audience&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">ms_trimmed</span><span class="p">[</span><span class="s1">&#39;Audience&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span>
<span class="p">})</span>
<span class="n">ms_bins</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Critics</th>
      <th>Audience</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>9.0</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6.0</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>65037</th>
      <td>6.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>65088</th>
      <td>4.0</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>65091</th>
      <td>7.0</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>65126</th>
      <td>6.0</td>
      <td>3.5</td>
    </tr>
    <tr>
      <th>65130</th>
      <td>7.0</td>
      <td>3.5</td>
    </tr>
  </tbody>
</table>
<p>7212 rows × 2 columns</p>
</div></div></div>
</div>
<p>Now we pivot, and the <code class="docutils literal notranslate"><span class="pre">droplevel</span></code> method gets rid of the extra level of the column index (try without it and see what happens!)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">msb_counts</span> <span class="o">=</span> <span class="n">ms_bins</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">v</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;Audience&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;Critics&#39;</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">msb_counts</span> <span class="o">=</span> <span class="n">msb_counts</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">msb_counts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>Critics</th>
      <th>1.0</th>
      <th>2.0</th>
      <th>3.0</th>
      <th>4.0</th>
      <th>5.0</th>
      <th>6.0</th>
      <th>7.0</th>
      <th>8.0</th>
      <th>9.0</th>
      <th>10.0</th>
    </tr>
    <tr>
      <th>Audience</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1.5</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>0</td>
      <td>12</td>
      <td>17</td>
      <td>6</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2.5</th>
      <td>1</td>
      <td>50</td>
      <td>118</td>
      <td>205</td>
      <td>110</td>
      <td>39</td>
      <td>7</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3.0</th>
      <td>0</td>
      <td>21</td>
      <td>157</td>
      <td>477</td>
      <td>616</td>
      <td>672</td>
      <td>257</td>
      <td>41</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3.5</th>
      <td>0</td>
      <td>4</td>
      <td>29</td>
      <td>135</td>
      <td>361</td>
      <td>882</td>
      <td>883</td>
      <td>400</td>
      <td>26</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4.0</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>18</td>
      <td>50</td>
      <td>215</td>
      <td>472</td>
      <td>625</td>
      <td>156</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4.5</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>4</td>
      <td>20</td>
      <td>58</td>
      <td>59</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5.0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">msb_counts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x228d5be1610&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_39_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_39_1.png" />
</div>
</div>
<p>That audience axis is upside down. Let’s reverse it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">msb_counts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x228d5cd06d0&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_41_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_41_1.png" />
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">::-1</span></code> slice means ‘all elements in reverse order’.</p>
</div>
</div>
<div class="section" id="secondary-aesthetics">
<h2>Secondary Aesthetics<a class="headerlink" href="#secondary-aesthetics" title="Permalink to this headline">¶</a></h2>
<p>We’re going to use the Titanic data again to show the survival rate by both class and sex:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;survived&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">titanic</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sex&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x228d5d71fa0&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_44_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_44_1.png" />
</div>
</div>
<p>Now let’s do the same thing with a point plot:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;survived&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">titanic</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="n">join</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x228d5db1dc0&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_46_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_46_1.png" />
</div>
</div>
<div class="section" id="breaking-down-by-more-things">
<h3>Breaking Down by More Things<a class="headerlink" href="#breaking-down-by-more-things" title="Permalink to this headline">¶</a></h3>
<p>We’re going to show survival rate by:</p>
<ul class="simple">
<li><p>age</p></li>
<li><p>sex</p></li>
<li><p>class</p></li>
</ul>
<p>The chart look really noisy with raw age, so we’re going to bin into 10-year bands:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">titanic</span><span class="p">[</span><span class="s1">&#39;agebin&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">titanic</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Then we compute the rate for each point:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rate</span> <span class="o">=</span> <span class="n">titanic</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="s1">&#39;agebin&#39;</span><span class="p">],</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="s1">&#39;survived&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Survival&#39;</span><span class="p">)</span>
<span class="n">rate</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>class</th>
      <th>sex</th>
      <th>agebin</th>
      <th>Survival</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Third</td>
      <td>female</td>
      <td>0.0</td>
      <td>0.733333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Third</td>
      <td>female</td>
      <td>10.0</td>
      <td>0.166667</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Third</td>
      <td>female</td>
      <td>20.0</td>
      <td>0.526316</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Third</td>
      <td>female</td>
      <td>30.0</td>
      <td>0.476190</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Third</td>
      <td>female</td>
      <td>40.0</td>
      <td>0.230769</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Third</td>
      <td>female</td>
      <td>50.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Third</td>
      <td>female</td>
      <td>60.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Third</td>
      <td>male</td>
      <td>0.0</td>
      <td>0.384615</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Third</td>
      <td>male</td>
      <td>10.0</td>
      <td>0.285714</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Third</td>
      <td>male</td>
      <td>20.0</td>
      <td>0.107843</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Third</td>
      <td>male</td>
      <td>30.0</td>
      <td>0.211268</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Third</td>
      <td>male</td>
      <td>40.0</td>
      <td>0.078947</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Third</td>
      <td>male</td>
      <td>50.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Third</td>
      <td>male</td>
      <td>60.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Third</td>
      <td>male</td>
      <td>70.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>15</th>
      <td>First</td>
      <td>female</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>16</th>
      <td>First</td>
      <td>female</td>
      <td>10.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>17</th>
      <td>First</td>
      <td>female</td>
      <td>20.0</td>
      <td>0.961538</td>
    </tr>
    <tr>
      <th>18</th>
      <td>First</td>
      <td>female</td>
      <td>30.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>19</th>
      <td>First</td>
      <td>female</td>
      <td>40.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>20</th>
      <td>First</td>
      <td>female</td>
      <td>50.0</td>
      <td>0.923077</td>
    </tr>
    <tr>
      <th>21</th>
      <td>First</td>
      <td>female</td>
      <td>60.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>22</th>
      <td>First</td>
      <td>male</td>
      <td>0.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>23</th>
      <td>First</td>
      <td>male</td>
      <td>10.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>24</th>
      <td>First</td>
      <td>male</td>
      <td>20.0</td>
      <td>0.363636</td>
    </tr>
    <tr>
      <th>25</th>
      <td>First</td>
      <td>male</td>
      <td>30.0</td>
      <td>0.500000</td>
    </tr>
    <tr>
      <th>26</th>
      <td>First</td>
      <td>male</td>
      <td>40.0</td>
      <td>0.481481</td>
    </tr>
    <tr>
      <th>27</th>
      <td>First</td>
      <td>male</td>
      <td>50.0</td>
      <td>0.363636</td>
    </tr>
    <tr>
      <th>28</th>
      <td>First</td>
      <td>male</td>
      <td>60.0</td>
      <td>0.125000</td>
    </tr>
    <tr>
      <th>29</th>
      <td>First</td>
      <td>male</td>
      <td>70.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>30</th>
      <td>First</td>
      <td>male</td>
      <td>80.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Second</td>
      <td>female</td>
      <td>0.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Second</td>
      <td>female</td>
      <td>10.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>33</th>
      <td>Second</td>
      <td>female</td>
      <td>20.0</td>
      <td>0.947368</td>
    </tr>
    <tr>
      <th>34</th>
      <td>Second</td>
      <td>female</td>
      <td>30.0</td>
      <td>0.916667</td>
    </tr>
    <tr>
      <th>35</th>
      <td>Second</td>
      <td>female</td>
      <td>40.0</td>
      <td>0.857143</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Second</td>
      <td>female</td>
      <td>50.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Second</td>
      <td>female</td>
      <td>60.0</td>
      <td>0.500000</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Second</td>
      <td>male</td>
      <td>0.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Second</td>
      <td>male</td>
      <td>10.0</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>40</th>
      <td>Second</td>
      <td>male</td>
      <td>20.0</td>
      <td>0.037037</td>
    </tr>
    <tr>
      <th>41</th>
      <td>Second</td>
      <td>male</td>
      <td>30.0</td>
      <td>0.096774</td>
    </tr>
    <tr>
      <th>42</th>
      <td>Second</td>
      <td>male</td>
      <td>40.0</td>
      <td>0.062500</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Second</td>
      <td>male</td>
      <td>50.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Second</td>
      <td>male</td>
      <td>60.0</td>
      <td>0.250000</td>
    </tr>
    <tr>
      <th>45</th>
      <td>Second</td>
      <td>male</td>
      <td>70.0</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And plot:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">relplot</span><span class="p">(</span><span class="s1">&#39;agebin&#39;</span><span class="p">,</span> <span class="s1">&#39;Survival&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">rate</span><span class="p">,</span> <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;line&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x228d5e4b4f0&gt;
</pre></div>
</div>
<img alt="../../_images/3-6-ChartsFromTheGroundUp_53_1.png" src="../../_images/3-6-ChartsFromTheGroundUp_53_1.png" />
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./week3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Week 3 — Presentation (9/6–10)</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../week4/" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Week 4 — Inference (9/13–17)</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Michael D. Ekstrand<br/>
        
            &copy; <a href="../../copyright/">Copyright</a> 2021.<br/>
          <div class="extra_footer">
            <script data-goatcounter="https://cs533.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>

          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>